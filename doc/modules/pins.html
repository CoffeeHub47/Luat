<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Luat-Lib-API</title>
    <link rel="stylesheet" href="../ldoc_pale.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>LuatDoc</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/clib.html">clib</a></li>
  <li><a href="../modules/console.html">console</a></li>
  <li><a href="../modules/led.html">led</a></li>
  <li><a href="../modules/link.html">link</a></li>
  <li><a href="../modules/log.html">log</a></li>
  <li><a href="../modules/net.html">net</a></li>
  <li><strong>pins</strong></li>
  <li><a href="../modules/ril.html">ril</a></li>
  <li><a href="../modules/sim.html">sim</a></li>
  <li><a href="../modules/sys.html">sys</a></li>
  <li><a href="../modules/wdt.html">wdt</a></li>
  <li><a href="../modules/test.html">test</a></li>
</ul>
<h2>Manual</h2>
<ul class="nowrap">
  <li><a href="../manual/readme.md.html">readme</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>pins</code></h1>
<p>模块功能：GPIO 功能配置，包括输入输出IO和上升下降沿中断IO</p>
<p>

</p>
    <h3>Info:</h3>
    <ul>
        <li><strong>Copyright</strong>: openLuat</li>
        <li><strong>Release</strong>: 2017.09.22</li>
        <li><strong>License</strong>: MIT</li>
        <li><strong>Author</strong>: 稀饭放姜</li>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#addIt">addIt (pin, rim)</a></td>
	<td class="summary">添加中断IO函数</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setIn">setIn (pin)</a></td>
	<td class="summary">设置GPIO_xx为输入模式</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setOut">setOut (pin, val)</a></td>
	<td class="summary">设置GPIO_xx为输出模式</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setup">setup (pin, val, it)</a></td>
	<td class="summary">自适应GPIO模式</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "addIt"></a>
    <strong>addIt (pin, rim)</strong>
    </dt>
    <dd>
    添加中断IO函数


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pin</span>
         ,参数为pio.P0<em>1-31 和 pio</em>P1_1-31 (IO >= 32 and IO - 31)
        </li>
        <li><span class="parameter">rim</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         ,参数为下降沿:"NEG" or 上升沿:"POS"
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        无
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">addIt(pio.P1_1,<span class="string">"NEG"</span>) 配置IO为pio.<span class="number">32</span>,中断模式，下降沿触发。中断会产生消息“INT_GPIO_TRIGGER”</pre>
    </ul>

</dd>
    <dt>
    <a name = "setIn"></a>
    <strong>setIn (pin)</strong>
    </dt>
    <dd>
    设置GPIO_xx为输入模式


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pin</span>
         ，参数为pio.P0<em>1-31 和 pio</em>P1_1-31 (IO >= 32 and IO - 31)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        function ,返回一个函数，这个函数可以获取GPIO_xx的当前状态
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">key = setIn(pio.P1_1) ，配置key的IO为pio.<span class="number">32</span>，输入模式,用key()即可获得当前电平</pre>
    </ul>

</dd>
    <dt>
    <a name = "setOut"></a>
    <strong>setOut (pin, val)</strong>
    </dt>
    <dd>
    设置GPIO_xx为输出模式


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pin</span>
         ，参数为pio.P0<em>1-31 和 pio</em>P1_1-31 (IO >= 32 and IO - 31)
        </li>
        <li><span class="parameter">val</span>
            <span class="types"><span class="type">number</span></span>
        ，初始默认电平：0 为低电平，非0为高电平
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        function ,返回一个函数，该函数接受一个参数用来设置IO的电平
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">led = setOut(pio.P1_1,<span class="number">0</span>) ，配置LED脚的IO为pio.<span class="number">32</span>，输出模式，默认输出低电平。led(<span class="number">1</span>)即可输出高电平</pre>
    </ul>

</dd>
    <dt>
    <a name = "setup"></a>
    <strong>setup (pin, val, it)</strong>
    </dt>
    <dd>
    自适应GPIO模式


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pin</span>
         ，参数为pio.P0<em>1-31 和 pio</em>P1_1-31 (IO >= 32 and IO - 31)
        </li>
        <li><span class="parameter">val</span>
            <span class="types"><span class="type">number</span></span>
        ，输出模式默认电平：0 是低电平1是高电平，中断模式0或“NEG”为下降沿，1或“POS”为上升沿。
        </li>
        <li><span class="parameter">it</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        , 中断标志“IT”为设置当前IO为中断IO
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        function ,返回一个函数，该函数接受一个参数用来设置IO的电平
    </ol>



    <h3>Usage:</h3>
    <ul>
        <li><pre class="example">key = setup(pio.P1_1,<span class="number">0</span>,<span class="string">"IT"</span>) ，配置Key的IO为pio.<span class="number">32</span>,中断模式，下降沿触发。用key()获取当前电平</pre></li>
        <li><pre class="example">led = setup(pio.P1_1,<span class="number">0</span>) ,配置LED脚的IO为pio.<span class="number">32</span>，输出模式，默认输出低电平。led(<span class="number">1</span>)即可输出高电平</pre></li>
        <li><pre class="example">key = setup(pio.P1_1),配置key的IO为pio.<span class="number">32</span>，输入模式,用key()即可获得当前电平</pre></li>
    </ul>

</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2017-09-23 09:15:55 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
